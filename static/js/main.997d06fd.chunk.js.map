{"version":3,"sources":["utils/debounce.js","components/SearchTypeahead/styles.js","components/SearchTypeahead/index.js","utils/createMap.js","utils/clearOverlays.js","utils/renderMarkers.js","components/Map/styles.js","components/Map/index.js","components/VirtualizedTable/styles.js","components/VirtualizedTable/index.js","components/styles.js","App.js","components/index.js","index.js"],"names":["debounce","fn","delay","timeout","args","context","this","clearTimeout","setTimeout","apply","SearchBox","styled","input","SearchTypeahead","options","onFilteredData","inputRef","useRef","type","onChange","value","current","filteredOptions","filter","item","name","toLowerCase","indexOf","postal_code","ref","placeholder","createMap","window","google","maps","Map","document","getElementById","center","lat","lng","zoom","clearOverlays","markersArray","i","length","setMap","renderMarkers","markerLocations","map","bounds","LatLngBounds","forEach","marker","infowindow","InfoWindow","content","position","LatLng","latitude","longitude","locationMarker","Marker","title","addListener","open","extend","push","fitBounds","Container","div","useState","flag","setFlag","useEffect","JSON","stringify","id","VirtualizedTable","data","onCurrentData","width","height","headerHeight","rowHeight","rowCount","rowGetter","index","onRowsRendered","r","requiredArray","endIndex","slice","startIndex","stopIndex","label","dataKey","NoResults","Cover","Heading","h1","Section","Main","currentData","setCurrentData","setData","className","postalCodes","ReactDOM","render","App"],"mappings":"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","file":"static/js/main.997d06fd.chunk.js","sourcesContent":["const debounce = (fn, delay) => {\n  let timeout = null;\n  return function (...args) {\n    const context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => fn.apply(context, args), delay);\n  };\n};\n\nexport default debounce;\n","import styled from \"styled-components\";\n\nexport const SearchBox = styled.input`\n  box-sizing: border-box;\n  border: 1px solid #d6d6d6;\n  border-radius: 4px;\n  height: 40px;\n  font-size: 16px;\n  padding: 4px;\n  transition: width 0.3s;\n  text-indent: 8px;\n  width: 720px;\n\n  &:focus {\n    width: 720px;\n    outline: none;\n    border: 1px solid #08a1b6;\n  }\n`;\n","import React, { useRef, Fragment } from \"react\";\n\nimport debounce from \"../../utils/debounce\";\nimport { SearchBox } from \"./styles\";\n\nconst SearchTypeahead = ({ options, onFilteredData }) => {\n  const inputRef = useRef();\n\n  const onSetFilters = () => {\n    const { value } = inputRef.current;\n    const filteredOptions = options.filter(\n      (item) =>\n        item.name.toLowerCase().indexOf(value.toLowerCase()) > -1 ||\n        item.postal_code.indexOf(value) > -1\n    );\n\n    onFilteredData({ filteredOptions, value: value });\n  };\n\n  return (\n    <Fragment>\n      <SearchBox\n        type=\"text\"\n        onChange={debounce(onSetFilters, 300)}\n        ref={inputRef}\n        placeholder=\"Search a postal code..\"\n      />\n    </Fragment>\n  );\n};\n\nexport default SearchTypeahead;\n","const createMap = (options = {}) =>\n  new window.google.maps.Map(document.getElementById(\"map\"), {\n    center: { lat: 19.1199, lng: 72.8643 },\n    zoom: 5,\n    ...options,\n  });\n\nexport default createMap;\n","const clearOverlays = (markersArray) => {\n  for (let i = 0; i < markersArray.length; i++) {\n    markersArray[i].setMap(null);\n  }\n  markersArray.length = 0;\n};\n\nexport default clearOverlays;\n","const renderMarkers = (markerLocations, map, markersArray) => {\n  const bounds = new window.google.maps.LatLngBounds();\n  markerLocations.forEach((marker) => {\n    const infowindow = new window.google.maps.InfoWindow({\n      content: marker.name,\n    });\n\n    const position = new window.google.maps.LatLng(\n      marker.latitude,\n      marker.longitude\n    );\n\n    const locationMarker = new window.google.maps.Marker({\n      position,\n      title: marker.name,\n      map,\n    });\n\n    locationMarker.addListener(\"click\", () => {\n      if (marker.name) {\n        infowindow.open(map, locationMarker);\n      }\n    });\n\n    bounds.extend(position);\n\n    markersArray.push(locationMarker);\n  });\n  map.fitBounds(bounds);\n};\n\nexport default renderMarkers;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  border: 1px solid #d6d6d6;\n  border-radius: 8px;\n  width: 100%;\n  height: 520px;\n`;\n","import React, { useEffect, useState } from \"react\";\n\nimport createMap from \"../../utils/createMap\";\nimport clearOverlays from \"../../utils/clearOverlays\";\nimport renderMarkers from \"../../utils/renderMarkers\";\nimport { Container } from \"./styles\";\n\nconst markersArray = [];\n\nconst Map = ({ markerLocations }) => {\n  const [map, setMap] = useState(null);\n  const [flag, setFlag] = useState(true);\n\n  useEffect(() => {\n    if (markerLocations.length > 0) {\n      clearOverlays(markersArray);\n      renderMarkers(markerLocations, map, markersArray);\n    }\n  }, [JSON.stringify(markerLocations)]);\n\n  useEffect(() => {\n    if (window.google && flag) {\n      setMap(createMap({}));\n      setFlag(false);\n    }\n  }, [window.google]);\n\n  return <Container id=\"map\" />;\n};\n\nexport default Map;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  max-width: 722px;\n  border: 1px solid #f6f6f6;\n  border-radius: 8px;\n  margin-top: 24px;\n  & > div {\n    background-color: #fff;\n    border-radius: 8px;\n  }\n  div[role=\"rowgroup\"] {\n    outline: none;\n  }\n  div[role=\"row\"] {\n    display: flex;\n    border-bottom: 1px solid #d6d6d6;\n    &.ReactVirtualized__Table__headerRow {\n      border-top-right-radius: 8px;\n      border-top-left-radius: 8px;\n    }\n    &:hover {\n      background-color: #f6f6f6;\n    }\n    div[role=\"columnheader\"],\n    div[role=\"gridcell\"] {\n      width: 20%;\n      white-space: nowrap;\n      display: inline-block;\n      text-overflow: ellipsis;\n      &:first-child {\n        width: calc(40%);\n      }\n      padding: 8px;\n    }\n    div[role=\"columnheader\"] {\n      font-weight: bold;\n      background-color: #aaa;\n    }\n  }\n`;\n","import React from \"react\";\n\nimport { Table, Column } from \"react-virtualized\";\n\nimport debounce from \"../../utils/debounce\";\nimport { Container } from \"./styles\";\n\nconst VirtualizedTable = ({ data, onCurrentData }) => {\n  const onRowsRendered = (r) => {\n    const requiredArray =\n      r.endIndex !== data.length - 1\n        ? data.slice(r.startIndex, r.stopIndex + 1)\n        : data.slice(r.startIndex, r.stopIndex);\n    onCurrentData(requiredArray);\n  };\n\n  return (\n    <Container>\n      <Table\n        width={720}\n        height={519}\n        headerHeight={40}\n        rowHeight={40}\n        rowCount={data.length}\n        rowGetter={({ index }) => data[index]}\n        onRowsRendered={debounce(onRowsRendered, 300)}\n      >\n        <Column label=\"Name\" dataKey=\"name\" />\n        <Column label=\"Postal Code\" dataKey=\"postal_code\" />\n        <Column label=\"Latitude\" dataKey=\"latitude\" />\n        <Column label=\"Longitude\" dataKey=\"longitude\" />\n      </Table>\n    </Container>\n  );\n};\n\nexport default VirtualizedTable;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 24px;\n  width: 100%;\n  min-height: 100vh;\n  box-sizing: border-box;\n  background-color: #f6f6f6;\n  * {\n    box-sizing: border-box;\n    font-family: sans-serif;\n  }\n`;\n\nexport const NoResults = styled.div`\n  font-size: 14px;\n  padding: 8px 16px;\n  width: 720px;\n  background-color: #fff;\n  border: 1px solid #d6d6d6;\n`;\n\nexport const Cover = styled.div`\n  width: 96%;\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  @media (max-width: 1320px) {\n    justify-content: center;\n  }\n`;\n\nexport const Heading = styled.h1`\n  text-align: center;\n  font-size: 32px;\n  margin: 24px 0 48px;\n`;\n\nexport const Section = styled.div`\n  &.left {\n    width: 60%;\n    min-width: 720px;\n    position: relative;\n  }\n  &.right {\n    width: 40%;\n    margin-top: 64px;\n  }\n  @media (max-width: 1320px) {\n    &.left {\n      width: 100%;\n      min-width: 720px;\n      max-width: 720px;\n    }\n    &.right {\n      width: 100%;\n      max-width: 720px;\n    }\n  }\n`;\n","import Main from \"./components\";\n\nexport default Main;\n","import React, { useState } from \"react\";\n\nimport SearchTypeahead from \"./SearchTypeahead\";\nimport Map from \"./Map\";\nimport postalCodes from \"../config/postal-codes.json\";\nimport VirtualizedTable from \"./VirtualizedTable\";\nimport { Container, Cover, Section, Heading, NoResults } from \"./styles\";\n\nconst Main = () => {\n  const [currentData, setCurrentData] = useState([]);\n  const [data, setData] = useState({\n    filteredOptions: [],\n    value: \"\",\n  });\n\n  return (\n    <Container>\n      <Heading>Postal Codes Locator</Heading>\n      <Cover>\n        <Section className=\"left\">\n          <SearchTypeahead options={postalCodes} onFilteredData={setData} />\n          {data.value && data.filteredOptions.length === 0 && (\n            <NoResults>\n              No records match the pattern, thus showing all the records.\n            </NoResults>\n          )}\n          <VirtualizedTable\n            data={\n              data.filteredOptions.length > 0\n                ? data.filteredOptions\n                : postalCodes\n            }\n            onCurrentData={setCurrentData}\n          />\n        </Section>\n        <Section className=\"right\">\n          <Map markerLocations={currentData} />\n        </Section>\n      </Cover>\n    </Container>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}